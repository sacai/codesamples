# codesamples
Небольшие примеры моего кода, которые я могу показать без нарушения NDA.

minicurs

Библиотека интерфейса вывода на консоль и в терминал для замены ncurses
под ОСРВ QNX 6, с целью минимального потребления системных ресурсов и 
максимальной простоты API. Необходимым условием было функционирование 
не только в терминале, но и в текстовой консоли ОС QNX. В связи с этим, 
были наложены следующие ограничения:
- поддержка Esc-последовательностей только VT100;
- поддержка только простейших возможностей управления текстом 
(нормальный, жирный, подчеркнутый, мерцающий, инвертированный).
Библиотека интерфейса вывода на консоль реализована на языке C, компилятор 
GCC 4.8.2 (допускается компиляция при помощи как gcc, так и g++) в виде 
статически подключаемого модуля libminicurs.a. 
Все функции библиотеки объявлены в заголовочном файле minicurs.h.
При тестировании подтверждена совместимость со следующими типами терминалов:
- qansi (консоль QNX);
- vt100;
- xterm
и следующими терминальными программами:
- PuTTY;
- KiTTY;
- TeraTerm;
- DTelnet (частично, не выводятся заглавные русские буквы в кодировке CP866);
- Microsoft Telnet (частично, отображаются только символы латиницы).

mkcalcpool

Интерфейс для запуска расчетных потоков разработан с целью обеспечения 
реализации выполнения высокоинтенсивных расчетных задач, прозрачную с 
точки зрения программиста, выполняющего код этих расчетных задач.
Интерфейс предоставляет следующие возможности:
- указание максимального количества вычислительных функций (потоков);
- указание размера стека, выделяемого отдельному потоку при его создании;
- добавление вычислительной функции в список потоков;
- запуск расчета в одном из возможных режимов (см далее) и ожидание 
завершения расчета.
Расчетные функции могут быть запущены в одном из следующих режимов:
- параллельно, с ожиданием окончания расчета одним из потоков и 
принудительным завершением всех остальных;
- параллельно, с ожиданием окончания расчета всеми потоками;
- последовательно, от первой к последней позиции в списке, в этом случае 
возможности распараллеливания не используются.
Расчетной функции предоставляются средства:
- передачи необходимых исходных данных на вход функции;
- установки признака окончания расчета;
- проверки признака принудительного завершения расчета (с завершением потока).
К расчетным функциям предъявляются следующие требования:
- не использовать выделение/освобождение памяти (за исключением стека);
- не использовать функции чтения/записи;
- при использовании общих участков памяти организация блокировок возлагается 
на разработчика расчетных функций.
Интерфейс реализован на языке C++, с использованием стандартных функций языка 
C++11. Для запуска потоков используются функции POSIX, при сборке под 
Windows – функции WinAPI. Для взаимодействия между потоками и родительским 
процессом используются атомарные булевские переменные.
В целях портирования на платформы, не поддерживающие POSIX, реализована 
возможность принудительного отключения распараллеливания на этапе компиляции, 
в этом случае использование атомарных переменных также отключается.
Тестирование проведено на платформе x86 под управлением операционной системы 
QNX 6.5, сборка осуществлялась компилятором GCC 4.8.1. Кроме того, 
осуществлялось тестирование под управлением операционной системы Windows 10, 
сборка осуществлялась компилятором Visual Studio Express 2015 в родной среде 
и компилятором GCC 4.9 в среде MSYS2, эмулирующей POSIX.

